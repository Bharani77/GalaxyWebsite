"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"bd4d3f40eb4b\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6IjtBQUFBLCtEQUFlLGNBQWM7QUFDN0IsSUFBSSxJQUFVLElBQUksaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvZ2xvYmFscy5jc3M/NTE4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImJkNGQzZjQwZWI0YlwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/SessionProvider.tsx":
/*!*************************************!*\
  !*** ./src/app/SessionProvider.tsx ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SessionProvider: function() { return /* binding */ SessionProvider; },\n/* harmony export */   useSession: function() { return /* binding */ useSession; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/auth */ \"(app-pages-browser)/./src/utils/auth.ts\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-hot-toast */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @supabase/supabase-js */ \"(app-pages-browser)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* __next_internal_client_entry_do_not_use__ useSession,SessionProvider auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_5__.createClient)(\"https://scxxvniczlyzyumuiohc.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNjeHh2bmljemx5enl1bXVpb2hjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzIzNTAzMDMsImV4cCI6MjA0NzkyNjMwM30.AM5S6xAISMEH41V7pLsJSznd-b2hiene5ZGOClgZh-4\");\nconst SessionContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    isLoading: true,\n    isAuthenticated: false,\n    isAdmin: false,\n    username: null,\n    token: null\n});\nconst useSession = ()=>{\n    _s();\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(SessionContext);\n};\n_s(useSession, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nfunction SessionProvider(param) {\n    let { children } = param;\n    _s1();\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isAuthenticated, setIsAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isAdmin, setIsAdmin] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [username, setUsername] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [token, setToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.usePathname)();\n    // Function to handle database changes\n    const handleDatabaseChanges = async (payload)=>{\n        console.log(\"Real-time change detected:\", payload);\n        const session = JSON.parse(localStorage.getItem(\"session\") || \"{}\");\n        if (!session || !session.username) {\n            return;\n        }\n        // Handle user deletion\n        if (payload.eventType === \"DELETE\") {\n            if (payload.old_record && payload.old_record.username === session.username) {\n                console.log(\"User deleted, showing notification\");\n                localStorage.removeItem(\"session\");\n                setIsAuthenticated(false);\n                setIsAdmin(false);\n                setUsername(null);\n                setToken(null);\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.remove();\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(\"Your access has been revoked by admin\", {\n                    duration: 5000,\n                    position: \"top-center\",\n                    style: {\n                        background: \"#ff4b4b\",\n                        color: \"#fff\",\n                        fontSize: \"16px\",\n                        padding: \"16px\",\n                        maxWidth: \"500px\",\n                        textAlign: \"center\"\n                    }\n                });\n                router.replace(\"/\");\n                return;\n            }\n        }\n        // Handle token removal or modification\n        if (payload.eventType === \"UPDATE\" && payload.old_record.username === session.username && (!payload.new_record.token || payload.new_record.token !== payload.old_record.token)) {\n            console.log(\"Token modified, showing notification\");\n            localStorage.removeItem(\"session\");\n            setIsAuthenticated(false);\n            setIsAdmin(false);\n            setUsername(null);\n            setToken(null);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.remove();\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(\"Your access token has been modified by admin\", {\n                duration: 5000,\n                position: \"top-center\",\n                style: {\n                    background: \"#ff4b4b\",\n                    color: \"#fff\",\n                    fontSize: \"16px\",\n                    padding: \"16px\",\n                    maxWidth: \"500px\",\n                    textAlign: \"center\"\n                }\n            });\n            router.replace(\"/\");\n            return;\n        }\n        // For other changes affecting current user\n        if (payload.new_record && payload.new_record.username === session.username) {\n            validateSession();\n        }\n    };\n    const handleSessionChanges = async (payload)=>{\n        var _payload_new_record;\n        const session = JSON.parse(localStorage.getItem(\"session\") || \"{}\");\n        if (!session || !session.sessionId) return;\n        console.log(\"Session change detected:\", {\n            eventType: payload.eventType,\n            currentSessionId: session.sessionId,\n            payloadSessionId: (_payload_new_record = payload.new_record) === null || _payload_new_record === void 0 ? void 0 : _payload_new_record.session_id,\n            userId: session.userId\n        });\n        // If any session was created or updated for the same user\n        if ((payload.eventType === \"INSERT\" || payload.eventType === \"UPDATE\") && payload.new_record.user_id === session.userId) {\n            // If this is not our session\n            if (payload.new_record.session_id !== session.sessionId) {\n                console.log(\"Another session detected, checking if it is newer\");\n                // If the other session is newer and active, invalidate current session\n                if (payload.new_record.is_active && new Date(payload.new_record.created_at) > new Date(session.created_at)) {\n                    console.log(\"Newer active session found, invalidating current session\");\n                    localStorage.removeItem(\"session\");\n                    setIsAuthenticated(false);\n                    setIsAdmin(false);\n                    setUsername(null);\n                    setToken(null);\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(\"Your session has ended because you signed in from another browser\", {\n                        duration: 5000,\n                        position: \"top-center\",\n                        style: {\n                            background: \"#ff4b4b\",\n                            color: \"#fff\",\n                            fontSize: \"16px\",\n                            padding: \"16px\",\n                            maxWidth: \"500px\",\n                            textAlign: \"center\"\n                        }\n                    });\n                    router.replace(\"/signin\");\n                }\n            }\n        }\n        // If our session was deactivated\n        if (payload.eventType === \"UPDATE\" && payload.old_record.session_id === session.sessionId && !payload.new_record.is_active) {\n            console.log(\"Current session was deactivated\");\n            localStorage.removeItem(\"session\");\n            setIsAuthenticated(false);\n            setIsAdmin(false);\n            setUsername(null);\n            setToken(null);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(\"Your session was deactivated\", {\n                duration: 5000,\n                position: \"top-center\",\n                style: {\n                    background: \"#ff4b4b\",\n                    color: \"#fff\",\n                    fontSize: \"16px\",\n                    padding: \"16px\",\n                    maxWidth: \"500px\",\n                    textAlign: \"center\"\n                }\n            });\n            router.replace(\"/signin\");\n        }\n    };\n    const validateSession = async ()=>{\n        try {\n            console.log(\"Starting session validation\");\n            const sessionData = await (0,_utils_auth__WEBPACK_IMPORTED_MODULE_3__.checkSession)();\n            if (sessionData) {\n                console.log(\"Session validated successfully:\", {\n                    ...sessionData,\n                    token: \"[REDACTED]\"\n                });\n                setIsAuthenticated(true);\n                setIsAdmin(sessionData.isAdmin);\n                setUsername(sessionData.username);\n                setToken(sessionData.token || null);\n                // Handle admin routing\n                if (sessionData.isAdmin) {\n                    if (pathname === \"/\") {\n                        router.push(\"/admin\");\n                    }\n                } else {\n                    if (pathname.startsWith(\"/admin\")) {\n                        router.replace(\"/\");\n                    }\n                }\n            } else {\n                console.log(\"No valid session found\");\n                setIsAuthenticated(false);\n                setIsAdmin(false);\n                setUsername(null);\n                setToken(null);\n                // Redirect to signin if trying to access protected routes\n                if (pathname !== \"/signin\" && pathname !== \"/signup\") {\n                    router.replace(\"/signin\");\n                }\n            }\n        } catch (error) {\n            console.error(\"Session validation error:\", error);\n            setIsAuthenticated(false);\n            setIsAdmin(false);\n            setUsername(null);\n            setToken(null);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(error.message || \"Session validation failed\", {\n                duration: 5000,\n                position: \"top-center\"\n            });\n            if (pathname !== \"/signin\" && pathname !== \"/signup\") {\n                router.replace(\"/signin\");\n            }\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Set up real-time subscription for both users and sessions\n        const session = JSON.parse(localStorage.getItem(\"session\") || \"{}\");\n        if (!session || !session.userId) return;\n        console.log(\"Setting up real-time subscriptions for user:\", session.userId);\n        const subscription = supabase.channel(\"db-changes\").on(\"postgres_changes\", {\n            event: \"*\",\n            schema: \"public\",\n            table: \"users\",\n            filter: \"username=eq.\".concat(session.username)\n        }, handleDatabaseChanges).on(\"postgres_changes\", {\n            event: \"*\",\n            schema: \"public\",\n            table: \"sessions\",\n            filter: \"user_id=eq.\".concat(session.userId)\n        }, handleSessionChanges).subscribe((status)=>{\n            console.log(\"Subscription status:\", status);\n        });\n        // Initial session validation\n        validateSession();\n        // Cleanup subscription on unmount\n        return ()=>{\n            console.log(\"Cleaning up subscriptions\");\n            subscription.unsubscribe();\n        };\n    }, [\n        pathname\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        let validationTimeout;\n        // Function to run validation with delay\n        const runValidation = async ()=>{\n            if (!mounted) return;\n            try {\n                await validateSession();\n            } catch (error) {\n                console.error(\"Validation error:\", error);\n                // Show error message if not on signin page\n                if (pathname !== \"/signin\") {\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(error.message, {\n                        duration: 5000,\n                        position: \"top-center\"\n                    });\n                    router.replace(\"/\");\n                }\n            }\n            // Schedule next validation\n            validationTimeout = setTimeout(runValidation, 3000); // Check every 3 seconds\n        };\n        // Initial validation\n        runValidation();\n        // Cleanup\n        return ()=>{\n            mounted = false;\n            clearTimeout(validationTimeout);\n        };\n    }, [\n        pathname\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SessionContext.Provider, {\n        value: {\n            isLoading,\n            isAuthenticated,\n            isAdmin,\n            username,\n            token\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"d:\\\\Workingfile\\\\GalaxyWebsite\\\\galaxy-kick-lock\\\\src\\\\app\\\\SessionProvider.tsx\",\n        lineNumber: 330,\n        columnNumber: 5\n    }, this);\n}\n_s1(SessionProvider, \"O2btI6I2La5NlpJMgALx5Svr35I=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.usePathname\n    ];\n});\n_c = SessionProvider;\nvar _c;\n$RefreshReg$(_c, \"SessionProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvU2Vzc2lvblByb3ZpZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFFdUU7QUFDZDtBQUNiO0FBQ0o7QUFDYTtBQUVyRCxNQUFNUyxXQUFXRCxtRUFBWUEsQ0FDM0JFLDBDQUFvQyxFQUNwQ0Esa05BQXlDO0FBRzNDLE1BQU1JLCtCQUFpQmQsb0RBQWFBLENBTWpDO0lBQ0RlLFdBQVc7SUFDWEMsaUJBQWlCO0lBQ2pCQyxTQUFTO0lBQ1RDLFVBQVU7SUFDVkMsT0FBTztBQUNUO0FBRU8sTUFBTUMsYUFBYTs7SUFBTW5CLE9BQUFBLGlEQUFVQSxDQUFDYTtBQUFjLEVBQUU7R0FBOUNNO0FBRU4sU0FBU0MsZ0JBQWdCLEtBQTJDO1FBQTNDLEVBQUVDLFFBQVEsRUFBaUMsR0FBM0M7O0lBQzlCLE1BQU0sQ0FBQ1AsV0FBV1EsYUFBYSxHQUFHcEIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDYSxpQkFBaUJRLG1CQUFtQixHQUFHckIsK0NBQVFBLENBQUM7SUFDdkQsTUFBTSxDQUFDYyxTQUFTUSxXQUFXLEdBQUd0QiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNlLFVBQVVRLFlBQVksR0FBR3ZCLCtDQUFRQSxDQUFnQjtJQUN4RCxNQUFNLENBQUNnQixPQUFPUSxTQUFTLEdBQUd4QiwrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTXlCLFNBQVN4QiwwREFBU0E7SUFDeEIsTUFBTXlCLFdBQVd4Qiw0REFBV0E7SUFFNUIsc0NBQXNDO0lBQ3RDLE1BQU15Qix3QkFBd0IsT0FBT0M7UUFDbkNDLFFBQVFDLEdBQUcsQ0FBQyw4QkFBOEJGO1FBQzFDLE1BQU1HLFVBQVVDLEtBQUtDLEtBQUssQ0FBQ0MsYUFBYUMsT0FBTyxDQUFDLGNBQWM7UUFFOUQsSUFBSSxDQUFDSixXQUFXLENBQUNBLFFBQVFoQixRQUFRLEVBQUU7WUFDakM7UUFDRjtRQUVBLHVCQUF1QjtRQUN2QixJQUFJYSxRQUFRUSxTQUFTLEtBQUssVUFBVTtZQUNsQyxJQUFJUixRQUFRUyxVQUFVLElBQUlULFFBQVFTLFVBQVUsQ0FBQ3RCLFFBQVEsS0FBS2dCLFFBQVFoQixRQUFRLEVBQUU7Z0JBQzFFYyxRQUFRQyxHQUFHLENBQUM7Z0JBQ1pJLGFBQWFJLFVBQVUsQ0FBQztnQkFFeEJqQixtQkFBbUI7Z0JBQ25CQyxXQUFXO2dCQUNYQyxZQUFZO2dCQUNaQyxTQUFTO2dCQUVUcEIsa0RBQUtBLENBQUNtQyxNQUFNO2dCQUNabkMsa0RBQUtBLENBQUNvQyxLQUFLLENBQUMseUNBQXlDO29CQUNuREMsVUFBVTtvQkFDVkMsVUFBVTtvQkFDVkMsT0FBTzt3QkFDTEMsWUFBWTt3QkFDWkMsT0FBTzt3QkFDUEMsVUFBVTt3QkFDVkMsU0FBUzt3QkFDVEMsVUFBVTt3QkFDVkMsV0FBVztvQkFDYjtnQkFDRjtnQkFFQXhCLE9BQU95QixPQUFPLENBQUM7Z0JBQ2Y7WUFDRjtRQUNGO1FBRUEsdUNBQXVDO1FBQ3ZDLElBQUl0QixRQUFRUSxTQUFTLEtBQUssWUFDdEJSLFFBQVFTLFVBQVUsQ0FBQ3RCLFFBQVEsS0FBS2dCLFFBQVFoQixRQUFRLElBQy9DLEVBQUNhLFFBQVF1QixVQUFVLENBQUNuQyxLQUFLLElBQUlZLFFBQVF1QixVQUFVLENBQUNuQyxLQUFLLEtBQUtZLFFBQVFTLFVBQVUsQ0FBQ3JCLEtBQUssR0FBRztZQUN4RmEsUUFBUUMsR0FBRyxDQUFDO1lBQ1pJLGFBQWFJLFVBQVUsQ0FBQztZQUV4QmpCLG1CQUFtQjtZQUNuQkMsV0FBVztZQUNYQyxZQUFZO1lBQ1pDLFNBQVM7WUFFVHBCLGtEQUFLQSxDQUFDbUMsTUFBTTtZQUNabkMsa0RBQUtBLENBQUNvQyxLQUFLLENBQUMsZ0RBQWdEO2dCQUMxREMsVUFBVTtnQkFDVkMsVUFBVTtnQkFDVkMsT0FBTztvQkFDTEMsWUFBWTtvQkFDWkMsT0FBTztvQkFDUEMsVUFBVTtvQkFDVkMsU0FBUztvQkFDVEMsVUFBVTtvQkFDVkMsV0FBVztnQkFDYjtZQUNGO1lBRUF4QixPQUFPeUIsT0FBTyxDQUFDO1lBQ2Y7UUFDRjtRQUVBLDJDQUEyQztRQUMzQyxJQUFJdEIsUUFBUXVCLFVBQVUsSUFBSXZCLFFBQVF1QixVQUFVLENBQUNwQyxRQUFRLEtBQUtnQixRQUFRaEIsUUFBUSxFQUFFO1lBQzFFcUM7UUFDRjtJQUNGO0lBRUEsTUFBTUMsdUJBQXVCLE9BQU96QjtZQU9kQTtRQU5wQixNQUFNRyxVQUFVQyxLQUFLQyxLQUFLLENBQUNDLGFBQWFDLE9BQU8sQ0FBQyxjQUFjO1FBQzlELElBQUksQ0FBQ0osV0FBVyxDQUFDQSxRQUFRdUIsU0FBUyxFQUFFO1FBRXBDekIsUUFBUUMsR0FBRyxDQUFDLDRCQUE0QjtZQUN0Q00sV0FBV1IsUUFBUVEsU0FBUztZQUM1Qm1CLGtCQUFrQnhCLFFBQVF1QixTQUFTO1lBQ25DRSxnQkFBZ0IsR0FBRTVCLHNCQUFBQSxRQUFRdUIsVUFBVSxjQUFsQnZCLDBDQUFBQSxvQkFBb0I2QixVQUFVO1lBQ2hEQyxRQUFRM0IsUUFBUTJCLE1BQU07UUFDeEI7UUFFQSwwREFBMEQ7UUFDMUQsSUFBSSxDQUFDOUIsUUFBUVEsU0FBUyxLQUFLLFlBQVlSLFFBQVFRLFNBQVMsS0FBSyxRQUFPLEtBQ2hFUixRQUFRdUIsVUFBVSxDQUFDUSxPQUFPLEtBQUs1QixRQUFRMkIsTUFBTSxFQUFFO1lBRWpELDZCQUE2QjtZQUM3QixJQUFJOUIsUUFBUXVCLFVBQVUsQ0FBQ00sVUFBVSxLQUFLMUIsUUFBUXVCLFNBQVMsRUFBRTtnQkFDdkR6QixRQUFRQyxHQUFHLENBQUM7Z0JBRVosdUVBQXVFO2dCQUN2RSxJQUFJRixRQUFRdUIsVUFBVSxDQUFDUyxTQUFTLElBQzVCLElBQUlDLEtBQUtqQyxRQUFRdUIsVUFBVSxDQUFDVyxVQUFVLElBQUksSUFBSUQsS0FBSzlCLFFBQVErQixVQUFVLEdBQUc7b0JBQzFFakMsUUFBUUMsR0FBRyxDQUFDO29CQUVaSSxhQUFhSSxVQUFVLENBQUM7b0JBQ3hCakIsbUJBQW1CO29CQUNuQkMsV0FBVztvQkFDWEMsWUFBWTtvQkFDWkMsU0FBUztvQkFFVHBCLGtEQUFLQSxDQUFDb0MsS0FBSyxDQUFDLHFFQUFxRTt3QkFDL0VDLFVBQVU7d0JBQ1ZDLFVBQVU7d0JBQ1ZDLE9BQU87NEJBQ0xDLFlBQVk7NEJBQ1pDLE9BQU87NEJBQ1BDLFVBQVU7NEJBQ1ZDLFNBQVM7NEJBQ1RDLFVBQVU7NEJBQ1ZDLFdBQVc7d0JBQ2I7b0JBQ0Y7b0JBRUF4QixPQUFPeUIsT0FBTyxDQUFDO2dCQUNqQjtZQUNGO1FBQ0Y7UUFFQSxpQ0FBaUM7UUFDakMsSUFBSXRCLFFBQVFRLFNBQVMsS0FBSyxZQUN0QlIsUUFBUVMsVUFBVSxDQUFDb0IsVUFBVSxLQUFLMUIsUUFBUXVCLFNBQVMsSUFDbkQsQ0FBQzFCLFFBQVF1QixVQUFVLENBQUNTLFNBQVMsRUFBRTtZQUNqQy9CLFFBQVFDLEdBQUcsQ0FBQztZQUVaSSxhQUFhSSxVQUFVLENBQUM7WUFDeEJqQixtQkFBbUI7WUFDbkJDLFdBQVc7WUFDWEMsWUFBWTtZQUNaQyxTQUFTO1lBRVRwQixrREFBS0EsQ0FBQ29DLEtBQUssQ0FBQyxnQ0FBZ0M7Z0JBQzFDQyxVQUFVO2dCQUNWQyxVQUFVO2dCQUNWQyxPQUFPO29CQUNMQyxZQUFZO29CQUNaQyxPQUFPO29CQUNQQyxVQUFVO29CQUNWQyxTQUFTO29CQUNUQyxVQUFVO29CQUNWQyxXQUFXO2dCQUNiO1lBQ0Y7WUFFQXhCLE9BQU95QixPQUFPLENBQUM7UUFDakI7SUFDRjtJQUVBLE1BQU1FLGtCQUFrQjtRQUN0QixJQUFJO1lBQ0Z2QixRQUFRQyxHQUFHLENBQUM7WUFDWixNQUFNaUMsY0FBYyxNQUFNNUQseURBQVlBO1lBRXRDLElBQUk0RCxhQUFhO2dCQUNmbEMsUUFBUUMsR0FBRyxDQUFDLG1DQUFtQztvQkFDN0MsR0FBR2lDLFdBQVc7b0JBQ2QvQyxPQUFPO2dCQUNUO2dCQUVBSyxtQkFBbUI7Z0JBQ25CQyxXQUFXeUMsWUFBWWpELE9BQU87Z0JBQzlCUyxZQUFZd0MsWUFBWWhELFFBQVE7Z0JBQ2hDUyxTQUFTdUMsWUFBWS9DLEtBQUssSUFBSTtnQkFFOUIsdUJBQXVCO2dCQUN2QixJQUFJK0MsWUFBWWpELE9BQU8sRUFBRTtvQkFDdkIsSUFBSVksYUFBYSxLQUFLO3dCQUNwQkQsT0FBT3VDLElBQUksQ0FBQztvQkFDZDtnQkFDRixPQUFPO29CQUNMLElBQUl0QyxTQUFTdUMsVUFBVSxDQUFDLFdBQVc7d0JBQ2pDeEMsT0FBT3lCLE9BQU8sQ0FBQztvQkFDakI7Z0JBQ0Y7WUFDRixPQUFPO2dCQUNMckIsUUFBUUMsR0FBRyxDQUFDO2dCQUNaVCxtQkFBbUI7Z0JBQ25CQyxXQUFXO2dCQUNYQyxZQUFZO2dCQUNaQyxTQUFTO2dCQUVULDBEQUEwRDtnQkFDMUQsSUFBSUUsYUFBYSxhQUFhQSxhQUFhLFdBQVc7b0JBQ3BERCxPQUFPeUIsT0FBTyxDQUFDO2dCQUNqQjtZQUNGO1FBQ0YsRUFBRSxPQUFPVixPQUFZO1lBQ25CWCxRQUFRVyxLQUFLLENBQUMsNkJBQTZCQTtZQUMzQ25CLG1CQUFtQjtZQUNuQkMsV0FBVztZQUNYQyxZQUFZO1lBQ1pDLFNBQVM7WUFFVHBCLGtEQUFLQSxDQUFDb0MsS0FBSyxDQUFDQSxNQUFNMEIsT0FBTyxJQUFJLDZCQUE2QjtnQkFDeER6QixVQUFVO2dCQUNWQyxVQUFVO1lBQ1o7WUFFQSxJQUFJaEIsYUFBYSxhQUFhQSxhQUFhLFdBQVc7Z0JBQ3BERCxPQUFPeUIsT0FBTyxDQUFDO1lBQ2pCO1FBQ0YsU0FBVTtZQUNSOUIsYUFBYTtRQUNmO0lBQ0Y7SUFFQXJCLGdEQUFTQSxDQUFDO1FBQ1IsNERBQTREO1FBQzVELE1BQU1nQyxVQUFVQyxLQUFLQyxLQUFLLENBQUNDLGFBQWFDLE9BQU8sQ0FBQyxjQUFjO1FBQzlELElBQUksQ0FBQ0osV0FBVyxDQUFDQSxRQUFRMkIsTUFBTSxFQUFFO1FBRWpDN0IsUUFBUUMsR0FBRyxDQUFDLGdEQUFnREMsUUFBUTJCLE1BQU07UUFFMUUsTUFBTVMsZUFBZTdELFNBQ2xCOEQsT0FBTyxDQUFDLGNBQ1JDLEVBQUUsQ0FDRCxvQkFDQTtZQUNFQyxPQUFPO1lBQ1BDLFFBQVE7WUFDUkMsT0FBTztZQUNQQyxRQUFRLGVBQWdDLE9BQWpCMUMsUUFBUWhCLFFBQVE7UUFDekMsR0FDQVksdUJBRUQwQyxFQUFFLENBQ0Qsb0JBQ0E7WUFDRUMsT0FBTztZQUNQQyxRQUFRO1lBQ1JDLE9BQU87WUFDUEMsUUFBUSxjQUE2QixPQUFmMUMsUUFBUTJCLE1BQU07UUFDdEMsR0FDQUwsc0JBRURxQixTQUFTLENBQUMsQ0FBQ0M7WUFDVjlDLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0I2QztRQUN0QztRQUVGLDZCQUE2QjtRQUM3QnZCO1FBRUEsa0NBQWtDO1FBQ2xDLE9BQU87WUFDTHZCLFFBQVFDLEdBQUcsQ0FBQztZQUNacUMsYUFBYVMsV0FBVztRQUMxQjtJQUNGLEdBQUc7UUFBQ2xEO0tBQVM7SUFFYjNCLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSThFLFVBQVU7UUFDZCxJQUFJQztRQUVKLHdDQUF3QztRQUN4QyxNQUFNQyxnQkFBZ0I7WUFDcEIsSUFBSSxDQUFDRixTQUFTO1lBRWQsSUFBSTtnQkFDRixNQUFNekI7WUFDUixFQUFFLE9BQU9aLE9BQVk7Z0JBQ25CWCxRQUFRVyxLQUFLLENBQUMscUJBQXFCQTtnQkFFbkMsMkNBQTJDO2dCQUMzQyxJQUFJZCxhQUFhLFdBQVc7b0JBQzFCdEIsa0RBQUtBLENBQUNvQyxLQUFLLENBQUNBLE1BQU0wQixPQUFPLEVBQUU7d0JBQ3pCekIsVUFBVTt3QkFDVkMsVUFBVTtvQkFDWjtvQkFDQWpCLE9BQU95QixPQUFPLENBQUM7Z0JBQ2pCO1lBQ0Y7WUFFQSwyQkFBMkI7WUFDM0I0QixvQkFBb0JFLFdBQVdELGVBQWUsT0FBTyx3QkFBd0I7UUFDL0U7UUFFQSxxQkFBcUI7UUFDckJBO1FBRUEsVUFBVTtRQUNWLE9BQU87WUFDTEYsVUFBVTtZQUNWSSxhQUFhSDtRQUNmO0lBQ0YsR0FBRztRQUFDcEQ7S0FBUztJQUViLHFCQUNFLDhEQUFDZixlQUFldUUsUUFBUTtRQUFDQyxPQUFPO1lBQUV2RTtZQUFXQztZQUFpQkM7WUFBU0M7WUFBVUM7UUFBTTtrQkFDcEZHOzs7Ozs7QUFHUDtJQWhUZ0JEOztRQU1DakIsc0RBQVNBO1FBQ1BDLHdEQUFXQTs7O0tBUGRnQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBwL1Nlc3Npb25Qcm92aWRlci50c3g/NDdhNiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVBhdGhuYW1lIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCB7IGNoZWNrU2Vzc2lvbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gJ3JlYWN0LWhvdC10b2FzdCc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG5jb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChcbiAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcbiAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhXG4pO1xuXG5jb25zdCBTZXNzaW9uQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8e1xuICBpc0xvYWRpbmc6IGJvb2xlYW47XG4gIGlzQXV0aGVudGljYXRlZDogYm9vbGVhbjtcbiAgaXNBZG1pbjogYm9vbGVhbjtcbiAgdXNlcm5hbWU6IHN0cmluZyB8IG51bGw7XG4gIHRva2VuOiBzdHJpbmcgfCBudWxsO1xufT4oe1xuICBpc0xvYWRpbmc6IHRydWUsXG4gIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gIGlzQWRtaW46IGZhbHNlLFxuICB1c2VybmFtZTogbnVsbCxcbiAgdG9rZW46IG51bGwsXG59KTtcblxuZXhwb3J0IGNvbnN0IHVzZVNlc3Npb24gPSAoKSA9PiB1c2VDb250ZXh0KFNlc3Npb25Db250ZXh0KTtcblxuZXhwb3J0IGZ1bmN0aW9uIFNlc3Npb25Qcm92aWRlcih7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSB7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2lzQXV0aGVudGljYXRlZCwgc2V0SXNBdXRoZW50aWNhdGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzQWRtaW4sIHNldElzQWRtaW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdXNlcm5hbWUsIHNldFVzZXJuYW1lXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdG9rZW4sIHNldFRva2VuXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgcGF0aG5hbWUgPSB1c2VQYXRobmFtZSgpO1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBkYXRhYmFzZSBjaGFuZ2VzXG4gIGNvbnN0IGhhbmRsZURhdGFiYXNlQ2hhbmdlcyA9IGFzeW5jIChwYXlsb2FkOiBhbnkpID0+IHtcbiAgICBjb25zb2xlLmxvZygnUmVhbC10aW1lIGNoYW5nZSBkZXRlY3RlZDonLCBwYXlsb2FkKTtcbiAgICBjb25zdCBzZXNzaW9uID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvbicpIHx8ICd7fScpO1xuXG4gICAgaWYgKCFzZXNzaW9uIHx8ICFzZXNzaW9uLnVzZXJuYW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHVzZXIgZGVsZXRpb25cbiAgICBpZiAocGF5bG9hZC5ldmVudFR5cGUgPT09ICdERUxFVEUnKSB7XG4gICAgICBpZiAocGF5bG9hZC5vbGRfcmVjb3JkICYmIHBheWxvYWQub2xkX3JlY29yZC51c2VybmFtZSA9PT0gc2Vzc2lvbi51c2VybmFtZSkge1xuICAgICAgICBjb25zb2xlLmxvZygnVXNlciBkZWxldGVkLCBzaG93aW5nIG5vdGlmaWNhdGlvbicpO1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnc2Vzc2lvbicpO1xuICAgICAgICBcbiAgICAgICAgc2V0SXNBdXRoZW50aWNhdGVkKGZhbHNlKTtcbiAgICAgICAgc2V0SXNBZG1pbihmYWxzZSk7XG4gICAgICAgIHNldFVzZXJuYW1lKG51bGwpO1xuICAgICAgICBzZXRUb2tlbihudWxsKTtcblxuICAgICAgICB0b2FzdC5yZW1vdmUoKTtcbiAgICAgICAgdG9hc3QuZXJyb3IoJ1lvdXIgYWNjZXNzIGhhcyBiZWVuIHJldm9rZWQgYnkgYWRtaW4nLCB7XG4gICAgICAgICAgZHVyYXRpb246IDUwMDAsXG4gICAgICAgICAgcG9zaXRpb246ICd0b3AtY2VudGVyJyxcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogJyNmZjRiNGInLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgICAgICBwYWRkaW5nOiAnMTZweCcsXG4gICAgICAgICAgICBtYXhXaWR0aDogJzUwMHB4JyxcbiAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICByb3V0ZXIucmVwbGFjZSgnLycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHRva2VuIHJlbW92YWwgb3IgbW9kaWZpY2F0aW9uXG4gICAgaWYgKHBheWxvYWQuZXZlbnRUeXBlID09PSAnVVBEQVRFJyAmJiBcbiAgICAgICAgcGF5bG9hZC5vbGRfcmVjb3JkLnVzZXJuYW1lID09PSBzZXNzaW9uLnVzZXJuYW1lICYmIFxuICAgICAgICAoIXBheWxvYWQubmV3X3JlY29yZC50b2tlbiB8fCBwYXlsb2FkLm5ld19yZWNvcmQudG9rZW4gIT09IHBheWxvYWQub2xkX3JlY29yZC50b2tlbikpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBtb2RpZmllZCwgc2hvd2luZyBub3RpZmljYXRpb24nKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzZXNzaW9uJyk7XG4gICAgICBcbiAgICAgIHNldElzQXV0aGVudGljYXRlZChmYWxzZSk7XG4gICAgICBzZXRJc0FkbWluKGZhbHNlKTtcbiAgICAgIHNldFVzZXJuYW1lKG51bGwpO1xuICAgICAgc2V0VG9rZW4obnVsbCk7XG5cbiAgICAgIHRvYXN0LnJlbW92ZSgpO1xuICAgICAgdG9hc3QuZXJyb3IoJ1lvdXIgYWNjZXNzIHRva2VuIGhhcyBiZWVuIG1vZGlmaWVkIGJ5IGFkbWluJywge1xuICAgICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgICAgcG9zaXRpb246ICd0b3AtY2VudGVyJyxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAnI2ZmNGI0YicsXG4gICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICAgIHBhZGRpbmc6ICcxNnB4JyxcbiAgICAgICAgICBtYXhXaWR0aDogJzUwMHB4JyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgcm91dGVyLnJlcGxhY2UoJy8nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGb3Igb3RoZXIgY2hhbmdlcyBhZmZlY3RpbmcgY3VycmVudCB1c2VyXG4gICAgaWYgKHBheWxvYWQubmV3X3JlY29yZCAmJiBwYXlsb2FkLm5ld19yZWNvcmQudXNlcm5hbWUgPT09IHNlc3Npb24udXNlcm5hbWUpIHtcbiAgICAgIHZhbGlkYXRlU2Vzc2lvbigpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZXNzaW9uQ2hhbmdlcyA9IGFzeW5jIChwYXlsb2FkOiBhbnkpID0+IHtcbiAgICBjb25zdCBzZXNzaW9uID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvbicpIHx8ICd7fScpO1xuICAgIGlmICghc2Vzc2lvbiB8fCAhc2Vzc2lvbi5zZXNzaW9uSWQpIHJldHVybjtcblxuICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIGNoYW5nZSBkZXRlY3RlZDonLCB7XG4gICAgICBldmVudFR5cGU6IHBheWxvYWQuZXZlbnRUeXBlLFxuICAgICAgY3VycmVudFNlc3Npb25JZDogc2Vzc2lvbi5zZXNzaW9uSWQsXG4gICAgICBwYXlsb2FkU2Vzc2lvbklkOiBwYXlsb2FkLm5ld19yZWNvcmQ/LnNlc3Npb25faWQsXG4gICAgICB1c2VySWQ6IHNlc3Npb24udXNlcklkXG4gICAgfSk7XG5cbiAgICAvLyBJZiBhbnkgc2Vzc2lvbiB3YXMgY3JlYXRlZCBvciB1cGRhdGVkIGZvciB0aGUgc2FtZSB1c2VyXG4gICAgaWYgKChwYXlsb2FkLmV2ZW50VHlwZSA9PT0gJ0lOU0VSVCcgfHwgcGF5bG9hZC5ldmVudFR5cGUgPT09ICdVUERBVEUnKSAmJiBcbiAgICAgICAgcGF5bG9hZC5uZXdfcmVjb3JkLnVzZXJfaWQgPT09IHNlc3Npb24udXNlcklkKSB7XG4gICAgICBcbiAgICAgIC8vIElmIHRoaXMgaXMgbm90IG91ciBzZXNzaW9uXG4gICAgICBpZiAocGF5bG9hZC5uZXdfcmVjb3JkLnNlc3Npb25faWQgIT09IHNlc3Npb24uc2Vzc2lvbklkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBbm90aGVyIHNlc3Npb24gZGV0ZWN0ZWQsIGNoZWNraW5nIGlmIGl0IGlzIG5ld2VyJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBJZiB0aGUgb3RoZXIgc2Vzc2lvbiBpcyBuZXdlciBhbmQgYWN0aXZlLCBpbnZhbGlkYXRlIGN1cnJlbnQgc2Vzc2lvblxuICAgICAgICBpZiAocGF5bG9hZC5uZXdfcmVjb3JkLmlzX2FjdGl2ZSAmJiBcbiAgICAgICAgICAgIG5ldyBEYXRlKHBheWxvYWQubmV3X3JlY29yZC5jcmVhdGVkX2F0KSA+IG5ldyBEYXRlKHNlc3Npb24uY3JlYXRlZF9hdCkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTmV3ZXIgYWN0aXZlIHNlc3Npb24gZm91bmQsIGludmFsaWRhdGluZyBjdXJyZW50IHNlc3Npb24nKTtcbiAgICAgICAgICBcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnc2Vzc2lvbicpO1xuICAgICAgICAgIHNldElzQXV0aGVudGljYXRlZChmYWxzZSk7XG4gICAgICAgICAgc2V0SXNBZG1pbihmYWxzZSk7XG4gICAgICAgICAgc2V0VXNlcm5hbWUobnVsbCk7XG4gICAgICAgICAgc2V0VG9rZW4obnVsbCk7XG5cbiAgICAgICAgICB0b2FzdC5lcnJvcignWW91ciBzZXNzaW9uIGhhcyBlbmRlZCBiZWNhdXNlIHlvdSBzaWduZWQgaW4gZnJvbSBhbm90aGVyIGJyb3dzZXInLCB7XG4gICAgICAgICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWNlbnRlcicsXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnI2ZmNGI0YicsXG4gICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgICAgICAgIHBhZGRpbmc6ICcxNnB4JyxcbiAgICAgICAgICAgICAgbWF4V2lkdGg6ICc1MDBweCcsXG4gICAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByb3V0ZXIucmVwbGFjZSgnL3NpZ25pbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgb3VyIHNlc3Npb24gd2FzIGRlYWN0aXZhdGVkXG4gICAgaWYgKHBheWxvYWQuZXZlbnRUeXBlID09PSAnVVBEQVRFJyAmJiBcbiAgICAgICAgcGF5bG9hZC5vbGRfcmVjb3JkLnNlc3Npb25faWQgPT09IHNlc3Npb24uc2Vzc2lvbklkICYmIFxuICAgICAgICAhcGF5bG9hZC5uZXdfcmVjb3JkLmlzX2FjdGl2ZSkge1xuICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgc2Vzc2lvbiB3YXMgZGVhY3RpdmF0ZWQnKTtcbiAgICAgIFxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Nlc3Npb24nKTtcbiAgICAgIHNldElzQXV0aGVudGljYXRlZChmYWxzZSk7XG4gICAgICBzZXRJc0FkbWluKGZhbHNlKTtcbiAgICAgIHNldFVzZXJuYW1lKG51bGwpO1xuICAgICAgc2V0VG9rZW4obnVsbCk7XG5cbiAgICAgIHRvYXN0LmVycm9yKCdZb3VyIHNlc3Npb24gd2FzIGRlYWN0aXZhdGVkJywge1xuICAgICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgICAgcG9zaXRpb246ICd0b3AtY2VudGVyJyxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAnI2ZmNGI0YicsXG4gICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICAgIHBhZGRpbmc6ICcxNnB4JyxcbiAgICAgICAgICBtYXhXaWR0aDogJzUwMHB4JyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgcm91dGVyLnJlcGxhY2UoJy9zaWduaW4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdmFsaWRhdGVTZXNzaW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgc2Vzc2lvbiB2YWxpZGF0aW9uJyk7XG4gICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGF3YWl0IGNoZWNrU2Vzc2lvbigpO1xuICAgICAgXG4gICAgICBpZiAoc2Vzc2lvbkRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1Nlc3Npb24gdmFsaWRhdGVkIHN1Y2Nlc3NmdWxseTonLCB7XG4gICAgICAgICAgLi4uc2Vzc2lvbkRhdGEsXG4gICAgICAgICAgdG9rZW46ICdbUkVEQUNURURdJ1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHNldElzQXV0aGVudGljYXRlZCh0cnVlKTtcbiAgICAgICAgc2V0SXNBZG1pbihzZXNzaW9uRGF0YS5pc0FkbWluKTtcbiAgICAgICAgc2V0VXNlcm5hbWUoc2Vzc2lvbkRhdGEudXNlcm5hbWUpO1xuICAgICAgICBzZXRUb2tlbihzZXNzaW9uRGF0YS50b2tlbiB8fCBudWxsKTtcblxuICAgICAgICAvLyBIYW5kbGUgYWRtaW4gcm91dGluZ1xuICAgICAgICBpZiAoc2Vzc2lvbkRhdGEuaXNBZG1pbikge1xuICAgICAgICAgIGlmIChwYXRobmFtZSA9PT0gJy8nKSB7XG4gICAgICAgICAgICByb3V0ZXIucHVzaCgnL2FkbWluJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKCcvYWRtaW4nKSkge1xuICAgICAgICAgICAgcm91dGVyLnJlcGxhY2UoJy8nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdObyB2YWxpZCBzZXNzaW9uIGZvdW5kJyk7XG4gICAgICAgIHNldElzQXV0aGVudGljYXRlZChmYWxzZSk7XG4gICAgICAgIHNldElzQWRtaW4oZmFsc2UpO1xuICAgICAgICBzZXRVc2VybmFtZShudWxsKTtcbiAgICAgICAgc2V0VG9rZW4obnVsbCk7XG5cbiAgICAgICAgLy8gUmVkaXJlY3QgdG8gc2lnbmluIGlmIHRyeWluZyB0byBhY2Nlc3MgcHJvdGVjdGVkIHJvdXRlc1xuICAgICAgICBpZiAocGF0aG5hbWUgIT09ICcvc2lnbmluJyAmJiBwYXRobmFtZSAhPT0gJy9zaWdudXAnKSB7XG4gICAgICAgICAgcm91dGVyLnJlcGxhY2UoJy9zaWduaW4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Nlc3Npb24gdmFsaWRhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQoZmFsc2UpO1xuICAgICAgc2V0SXNBZG1pbihmYWxzZSk7XG4gICAgICBzZXRVc2VybmFtZShudWxsKTtcbiAgICAgIHNldFRva2VuKG51bGwpO1xuXG4gICAgICB0b2FzdC5lcnJvcihlcnJvci5tZXNzYWdlIHx8ICdTZXNzaW9uIHZhbGlkYXRpb24gZmFpbGVkJywge1xuICAgICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgICAgcG9zaXRpb246ICd0b3AtY2VudGVyJyxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocGF0aG5hbWUgIT09ICcvc2lnbmluJyAmJiBwYXRobmFtZSAhPT0gJy9zaWdudXAnKSB7XG4gICAgICAgIHJvdXRlci5yZXBsYWNlKCcvc2lnbmluJyk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gU2V0IHVwIHJlYWwtdGltZSBzdWJzY3JpcHRpb24gZm9yIGJvdGggdXNlcnMgYW5kIHNlc3Npb25zXG4gICAgY29uc3Qgc2Vzc2lvbiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nlc3Npb24nKSB8fCAne30nKTtcbiAgICBpZiAoIXNlc3Npb24gfHwgIXNlc3Npb24udXNlcklkKSByZXR1cm47XG5cbiAgICBjb25zb2xlLmxvZygnU2V0dGluZyB1cCByZWFsLXRpbWUgc3Vic2NyaXB0aW9ucyBmb3IgdXNlcjonLCBzZXNzaW9uLnVzZXJJZCk7XG5cbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBzdXBhYmFzZVxuICAgICAgLmNoYW5uZWwoJ2RiLWNoYW5nZXMnKVxuICAgICAgLm9uKFxuICAgICAgICAncG9zdGdyZXNfY2hhbmdlcycsXG4gICAgICAgIHtcbiAgICAgICAgICBldmVudDogJyonLFxuICAgICAgICAgIHNjaGVtYTogJ3B1YmxpYycsXG4gICAgICAgICAgdGFibGU6ICd1c2VycycsXG4gICAgICAgICAgZmlsdGVyOiBgdXNlcm5hbWU9ZXEuJHtzZXNzaW9uLnVzZXJuYW1lfWBcbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlRGF0YWJhc2VDaGFuZ2VzXG4gICAgICApXG4gICAgICAub24oXG4gICAgICAgICdwb3N0Z3Jlc19jaGFuZ2VzJyxcbiAgICAgICAge1xuICAgICAgICAgIGV2ZW50OiAnKicsXG4gICAgICAgICAgc2NoZW1hOiAncHVibGljJyxcbiAgICAgICAgICB0YWJsZTogJ3Nlc3Npb25zJyxcbiAgICAgICAgICBmaWx0ZXI6IGB1c2VyX2lkPWVxLiR7c2Vzc2lvbi51c2VySWR9YFxuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVTZXNzaW9uQ2hhbmdlc1xuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgoc3RhdHVzKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTdWJzY3JpcHRpb24gc3RhdHVzOicsIHN0YXR1cyk7XG4gICAgICB9KTtcblxuICAgIC8vIEluaXRpYWwgc2Vzc2lvbiB2YWxpZGF0aW9uXG4gICAgdmFsaWRhdGVTZXNzaW9uKCk7XG5cbiAgICAvLyBDbGVhbnVwIHN1YnNjcmlwdGlvbiBvbiB1bm1vdW50XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdDbGVhbmluZyB1cCBzdWJzY3JpcHRpb25zJyk7XG4gICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9LCBbcGF0aG5hbWVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBtb3VudGVkID0gdHJ1ZTtcbiAgICBsZXQgdmFsaWRhdGlvblRpbWVvdXQ6IE5vZGVKUy5UaW1lb3V0O1xuXG4gICAgLy8gRnVuY3Rpb24gdG8gcnVuIHZhbGlkYXRpb24gd2l0aCBkZWxheVxuICAgIGNvbnN0IHJ1blZhbGlkYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdmFsaWRhdGVTZXNzaW9uKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZhbGlkYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2hvdyBlcnJvciBtZXNzYWdlIGlmIG5vdCBvbiBzaWduaW4gcGFnZVxuICAgICAgICBpZiAocGF0aG5hbWUgIT09ICcvc2lnbmluJykge1xuICAgICAgICAgIHRvYXN0LmVycm9yKGVycm9yLm1lc3NhZ2UsIHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLFxuICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtY2VudGVyJyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByb3V0ZXIucmVwbGFjZSgnLycpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFNjaGVkdWxlIG5leHQgdmFsaWRhdGlvblxuICAgICAgdmFsaWRhdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KHJ1blZhbGlkYXRpb24sIDMwMDApOyAvLyBDaGVjayBldmVyeSAzIHNlY29uZHNcbiAgICB9O1xuXG4gICAgLy8gSW5pdGlhbCB2YWxpZGF0aW9uXG4gICAgcnVuVmFsaWRhdGlvbigpO1xuXG4gICAgLy8gQ2xlYW51cFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBtb3VudGVkID0gZmFsc2U7XG4gICAgICBjbGVhclRpbWVvdXQodmFsaWRhdGlvblRpbWVvdXQpO1xuICAgIH07XG4gIH0sIFtwYXRobmFtZV0pO1xuXG4gIHJldHVybiAoXG4gICAgPFNlc3Npb25Db250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IGlzTG9hZGluZywgaXNBdXRoZW50aWNhdGVkLCBpc0FkbWluLCB1c2VybmFtZSwgdG9rZW4gfX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9TZXNzaW9uQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUm91dGVyIiwidXNlUGF0aG5hbWUiLCJjaGVja1Nlc3Npb24iLCJ0b2FzdCIsImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiU2Vzc2lvbkNvbnRleHQiLCJpc0xvYWRpbmciLCJpc0F1dGhlbnRpY2F0ZWQiLCJpc0FkbWluIiwidXNlcm5hbWUiLCJ0b2tlbiIsInVzZVNlc3Npb24iLCJTZXNzaW9uUHJvdmlkZXIiLCJjaGlsZHJlbiIsInNldElzTG9hZGluZyIsInNldElzQXV0aGVudGljYXRlZCIsInNldElzQWRtaW4iLCJzZXRVc2VybmFtZSIsInNldFRva2VuIiwicm91dGVyIiwicGF0aG5hbWUiLCJoYW5kbGVEYXRhYmFzZUNoYW5nZXMiLCJwYXlsb2FkIiwiY29uc29sZSIsImxvZyIsInNlc3Npb24iLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZXZlbnRUeXBlIiwib2xkX3JlY29yZCIsInJlbW92ZUl0ZW0iLCJyZW1vdmUiLCJlcnJvciIsImR1cmF0aW9uIiwicG9zaXRpb24iLCJzdHlsZSIsImJhY2tncm91bmQiLCJjb2xvciIsImZvbnRTaXplIiwicGFkZGluZyIsIm1heFdpZHRoIiwidGV4dEFsaWduIiwicmVwbGFjZSIsIm5ld19yZWNvcmQiLCJ2YWxpZGF0ZVNlc3Npb24iLCJoYW5kbGVTZXNzaW9uQ2hhbmdlcyIsInNlc3Npb25JZCIsImN1cnJlbnRTZXNzaW9uSWQiLCJwYXlsb2FkU2Vzc2lvbklkIiwic2Vzc2lvbl9pZCIsInVzZXJJZCIsInVzZXJfaWQiLCJpc19hY3RpdmUiLCJEYXRlIiwiY3JlYXRlZF9hdCIsInNlc3Npb25EYXRhIiwicHVzaCIsInN0YXJ0c1dpdGgiLCJtZXNzYWdlIiwic3Vic2NyaXB0aW9uIiwiY2hhbm5lbCIsIm9uIiwiZXZlbnQiLCJzY2hlbWEiLCJ0YWJsZSIsImZpbHRlciIsInN1YnNjcmliZSIsInN0YXR1cyIsInVuc3Vic2NyaWJlIiwibW91bnRlZCIsInZhbGlkYXRpb25UaW1lb3V0IiwicnVuVmFsaWRhdGlvbiIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJQcm92aWRlciIsInZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/SessionProvider.tsx\n"));

/***/ })

});